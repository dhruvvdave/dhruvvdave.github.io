<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mansi &amp; Kunj | Wedding Weekend</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" sizes="32x32" href="mk-logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="mk-logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="mk-logo.png">
  <link rel="shortcut icon" href="mk-logo.png">

  <!-- Favicons - Multiple sizes for better visibility -->
<!-- Favicons - Maximum sizes for all platforms -->
<link rel="icon" type="image/png" sizes="512x512" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="256x256" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="196x196" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="128x128" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="96x96" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="64x64" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="48x48" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="32x32" href="mk-logo.png">
<link rel="icon" type="image/png" sizes="16x16" href="mk-logo.png">

<!-- Apple Touch Icons (for iPhone/iPad home screen) -->
<link rel="apple-touch-icon" sizes="180x180" href="mk-logo.png">
<link rel="apple-touch-icon" sizes="167x167" href="mk-logo.png">
<link rel="apple-touch-icon" sizes="152x152" href="mk-logo.png">
<link rel="apple-touch-icon" sizes="120x120" href="mk-logo.png">

<!-- Microsoft Tiles -->
<meta name="msapplication-TileImage" content="mk-logo.png">
<meta name="msapplication-TileColor" content="#D6CCA8">
<meta name="msapplication-square150x150logo" content="mk-logo.png">
<meta name="msapplication-square310x310logo" content="mk-logo.png">

<!-- Open Graph / Social Media (shows larger image when shared) -->
<meta property="og:image" content="mk-logo.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og: title" content="Mansi & Kunj | Wedding Weekend">
<meta property="og:description" content="June 19-21, 2026 ¬∑ Toronto, ON">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="mk-logo.png">

<!-- Standard favicon fallback -->
<link rel="shortcut icon" href="mk-logo.png">
<link rel="icon" href="mk-logo.png">
<meta name="msapplication-TileImage" content="mk-logo.png">
<meta name="msapplication-TileColor" content="#D6CCA8">

 <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet" />

  <style>
    @font-face {
  font-family:  "PinyonScript";
  src: url("PinyonScript-Regular.ttf") format("truetype");
  font-weight: normal;
  font-style:  normal;
  font-display: swap;
}
    @font-face {
      font-family: "Bodoni";
      src:  url("bodoni_[allfont.net].ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: "JosefinSans";
      src: url("JosefinSans-VariableFont_wght.ttf") format("truetype");
      font-weight: 100 900;
      font-style: normal;
      font-display: swap;
    }

    :root {
  --ivory-cream: #D6CCA8;
  --pistachio:  #000000;
  --warm-sand: #F9F3E8;
  --soft-clay: #333333;
  --font-heading: "Bodoni", "Playfair Display", serif;
  --font-body:  "JosefinSans", "Montserrat", system-ui, sans-serif;
  --font-names: "PinyonScript", cursive;  /* ADD THIS LINE */
}

    * { box-sizing: border-box; margin: 0; padding: 0; }
    img { max-width: 100%; display: block; }
    a { text-decoration: none; color: inherit; }
    html, body { height: 100%; scroll-behavior: smooth; }
    html { overflow-x: hidden; width: 100%; }
    
    body {
      overflow-x: hidden;
      width: 100%;
      position: relative;
      font-family: var(--font-body);
      background: var(--ivory-cream);
      color: var(--pistachio);
      line-height: 1.6;
    }

    .page { max-width: 100%; margin: 0 auto; padding: 0 0 64px; }
    .section { padding: 64px 20px; max-width: 1280px; margin: 0 auto; }
    
    .section-title {
      font-family: var(--font-heading);
      font-size: 2.6rem;
      text-align: center;
      color: var(--pistachio);
      letter-spacing: 0.04em;
      margin-bottom:  8px;
      font-weight: 400;
    }

    .section-subtitle {
      text-align: center;
      color: var(--soft-clay);
      max-width: 540px;
      margin: 0 auto 24px;
      font-size:  0.98rem;
      font-family:  var(--font-body);
    }

    .code-gate-backdrop {
      position: fixed;
      inset: 0;
      background: var(--ivory-cream);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }

    .code-gate-card {
      max-width: 420px;
      width: 100%;
      background:  var(--warm-sand);
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.18);
      padding: 28px 28px 24px;
      text-align: center;
      border: 1px solid rgba(184,166,125,0.18);
    }

    .code-gate-title {
  font-family: var(--font-names);  /* Changed from var(--font-heading) */
  font-size: 2.8rem;
  color: var(--pistachio);
  margin-bottom: 4px;
}

    .code-gate-tagline {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      color: var(--soft-clay);
      margin-bottom: 14px;
      font-family: var(--font-body);
    }

    .code-gate-text {
      font-size: 0.92rem;
      color: var(--soft-clay);
      margin-bottom: 20px;
      line-height: 1.5;
      font-family: var(--font-body);
    }

    .code-input {
      border-radius: 999px;
      border: 1px solid rgba(184,166,125,0.4);
      padding: 11px 16px;
      width: 100%;
      text-align: center;
      font-size: 0.95rem;
      outline: none;
      background: var(--ivory-cream);
      font-family: var(--font-body);
      color: var(--pistachio);
    }

    .code-input::placeholder {
      color: var(--soft-clay);
      font-size: 0.9rem;
    }

    .code-input:focus {
      border-color: var(--soft-clay);
      box-shadow: 0 0 0 3px rgba(184,166,125,0.35);
      background: var(--ivory-cream);
    }

    .code-btn {
      margin-top: 14px;
      border-radius: 999px;
      border: none;
      padding: 11px 24px;
      font-size:  0.9rem;
      font-weight:  600;
      cursor: pointer;
      background: var(--soft-clay);
      color: var(--ivory-cream);
      box-shadow: 0 12px 22px rgba(184,166,125,0.3);
      text-transform: uppercase;
      letter-spacing: 0.16em;
      transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, filter 0.15s ease-out;
      width: 100%;
      font-family: var(--font-body);
    }

    .code-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 32px rgba(184,166,125,0.4);
      filter: brightness(1.03);
    }

    .code-error {
      margin-top: 10px;
      min-height: 18px;
      font-size:  0.8rem;
      color: #c0392b;
      font-family: var(--font-body);
    }

    header {
      position: sticky;
      top: 0;
      z-index: 40;
      background: var(--ivory-cream);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(184,166,125,0.12);
    }

    .header-inner {
      max-width: 1280px;
      margin: 0 auto;
      padding: 12px 20px 10px;
      text-align: center;
      position: relative;
    }

    .logo-wordmark {
  font-family:  var(--font-names);  /* Changed from var(--font-heading) */
  font-size: 3.1rem;
  color: var(--pistachio);
  text-shadow: 0 6px 16px rgba(0,0,0,0.12);
  line-height: 1.1;
}

    .logo-tagline {
      font-size:  0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--soft-clay);
      margin-top: 2px;
      font-family: var(--font-body);
    }

    .header-family { display: none; }

    .header-rsvp-btn {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--soft-clay);
      color: var(--ivory-cream);
      border: none;
      border-radius: 999px;
      padding: 10px 24px;
      font-size:  0.75rem;
      font-weight:  600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(184,166,125,0.3);
      transition: all 0.2s ease-out;
      display: none;
      font-family: var(--font-body);
    }

    .header-rsvp-btn:hover {
      transform: translateY(-50%) translateY(-2px);
      box-shadow: 0 6px 16px rgba(184,166,125,0.4);
      filter: brightness(1.05);
    }

    .header-rsvp-btn:active {
      transform: translateY(-50%) translateY(0);
    }

    .nav-toggle {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      position: absolute;
      right: 20px;
      top: 18px;
    }

    .nav-toggle span {
      display: block;
      width: 22px;
      height: 2px;
      margin:  4px 0;
      background-color: var(--pistachio);
      transition: transform 0.2s ease, opacity 0.2s ease;
    }

    .nav-toggle.is-open span:nth-child(1) { transform: translateY(6px) rotate(45deg); }
    .nav-toggle.is-open span:nth-child(2) { opacity: 0; }
    .nav-toggle.is-open span:nth-child(3) { transform: translateY(-6px) rotate(-45deg); }

    nav { margin-top: 8px; }

    .nav-links {
      list-style: none;
      display: inline-flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    nav a {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--soft-clay);
      padding: 3px 0;
      position: relative;
      font-weight: 500;
      transition: color 0.15s ease-out;
      font-family: var(--font-body);
    }

    nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom:  -3px;
      width: 0;
      height: 2px;
      background: var(--soft-clay);
      border-radius: 999px;
      transition: width 0.18s ease-out;
    }

    nav a:hover { color: var(--pistachio); }
    nav a.active { color: var(--pistachio); }
    nav a.active::after { width: 100%; }

    #hero { scroll-margin-top: 90px; padding: 0; }
    .hero-section { padding: 0; width: 100%; }

    .hero-text {
      max-width: 620px;
      margin: 0 auto 20px;
      text-align: center;
      font-size: 0.95rem;
      color: var(--soft-clay);
      padding: 24px 20px 0;
      font-family: var(--font-body);
    }

  .hero-slider-shell {
  width:  100%;
  margin: 0;
  overflow: hidden;
  box-shadow: 0 24px 60px rgba(0,0,0,0.18);
  position: relative;
  background: #000;
}

.hero-slider {
  display: flex;
  height: min(75vh, 700px);
  min-height: 400px;
  animation:  hero-flow 55s linear infinite;
  will-change: transform;
}

.hero-photo { 
  flex: 0 0 33.3333%;
  min-width: 33.3333%;
}

.hero-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.hero-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at top, rgba(0,0,0,0.22), transparent 55%);
}

@keyframes hero-flow {
  0% { transform: translateX(0); }
  100% { transform: translateX(-166.6667%); }
}

    #schedule { scroll-margin-top: 90px; }

    .schedule-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 24px;
      align-items:  start;
    }

    .event-selector {
      display: flex;
      flex-direction: column;
      gap: 12px;
      position: sticky;
      top: 120px;
      align-self: start;
    }

    .event-selector-header { padding: 0 0 16px 0; }

    .event-selector-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--pistachio);
      margin-bottom: 4px;
      font-family:  var(--font-heading);
    }

    .event-selector-subtitle {
      font-size: 0.85rem;
      color: var(--soft-clay);
      font-family: var(--font-body);
    }

    .event-selector-item { position: relative; }

    .event-selector-btn {
      background: var(--warm-sand);
      border: 2px solid rgba(184,166,125,0.2);
      border-radius: 16px;
      padding: 20px 18px;
      cursor: pointer;
      transition: all 0.2s ease-out;
      text-align: left;
      width: 100%;
      display: flex;
      align-items: center;
      gap: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .event-selector-btn:hover {
      border-color: rgba(184,166,125,0.4);
      box-shadow: 0 4px 12px rgba(184,166,125,0.15);
      transform: translateY(-2px);
    }

    .event-selector-btn.active {
      background: var(--ivory-cream);
      border-color: var(--soft-clay);
      box-shadow: 0 6px 20px rgba(184,166,125,0.25);
      transform: translateY(0);
    }

    .event-selector-btn.active .event-selector-name { color: var(--pistachio); }
    .event-selector-btn.active .event-selector-date { color: var(--soft-clay); }
    .event-selector-emoji { font-size: 2rem; flex-shrink: 0; }

    .event-selector-content {
      flex: 1;
      display:  flex;
      flex-direction:  column;
      gap: 4px;
      min-width: 0;
    }

    .event-selector-name {
      font-size: 1rem;
      font-weight: 600;
      color: var(--pistachio);
      line-height: 1.3;
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .event-selector-date {
      font-size: 0.8rem;
      color: var(--soft-clay);
      line-height: 1.4;
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .event-detail-card {
      background: var(--warm-sand);
      border-radius: 24px;
      border: 1px solid rgba(184,166,125,0.2);
      box-shadow: 0 20px 60px rgba(0,0,0,0.1);
      overflow: hidden;
      min-width: 0;
    }

    .event-header {
  background: var(--warm-sand);  /* Changed from var(--ivory-cream) */
  padding: 28px 24px;
  border-bottom:  1px solid rgba(184,166,125,0.15);
}

    .event-header-emoji {
      font-size: 3rem;
      text-align: center;
      margin-bottom: 12px;
      filter: drop-shadow(0 4px 8px rgba(184,166,125,0.3));
    }

    .event-header-title {
      font-family: var(--font-heading);
      font-size: 2.4rem;
      color: var(--pistachio);
      text-align: center;
      margin-bottom: 8px;
      line-height: 1.2;
      word-wrap: break-word;
    }

    .event-header-meta {
      text-align: center;
      font-size: 0.85rem;
      color: var(--soft-clay);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 16px;
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .event-header-description {
      font-size: 0.95rem;
      color: var(--pistachio);
      line-height: 1.7;
      text-align: center;
      max-width: 600px;
      margin: 0 auto 16px;
      word-wrap:  break-word;
      font-family: var(--font-body);
    }

    .event-info-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 16px;
    }

    .event-info-pill {
      background: rgba(249,243,232,0.9);
      border: 1px solid rgba(184,166,125,0.3);
      border-radius: 999px;
      padding: 8px 16px;
      font-size:  0.8rem;
      color: var(--pistachio);
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s ease-out;
      max-width: 100%;
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .event-info-pill.clickable { cursor: pointer; }

    .event-info-pill.clickable:hover {
      background: rgba(184,166,125,0.15);
      border-color: var(--soft-clay);
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(184,166,125,0.2);
    }

    .event-actions {
      display: flex;
      gap: 10px;
      justify-content:  center;
      margin-top:  20px;
      flex-wrap: wrap;
    }

    .event-action-btn {
      background: rgba(249,243,232,0.9);
      border: 2px solid rgba(184,166,125,0.3);
      border-radius: 999px;
      padding: 10px 20px;
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--pistachio);
      cursor: pointer;
      transition: all 0.2s ease-out;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: var(--font-body);
    }

    .event-action-btn:hover {
      background: var(--soft-clay);
      color: var(--ivory-cream);
      border-color: var(--soft-clay);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(184,166,125,0.3);
    }

    .rsvp-section { padding: 32px 24px; }

    .rsvp-title {
      font-size: 1.1rem;
      font-weight:  600;
      color: var(--pistachio);
      text-transform: uppercase;
      letter-spacing: 0.12em;
      text-align: center;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom:  2px solid rgba(184,166,125,0.2);
      font-family: var(--font-body);
    }

    .rsvp-guest-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom:  24px;
    }

    .rsvp-guest-card {
      background: var(--ivory-cream);
      border: 2px solid rgba(184,166,125,0.2);
      border-radius: 16px;
      padding: 20px;
      transition: all 0.2s ease-out;
    }

    .rsvp-guest-card:hover {
      border-color: rgba(184,166,125,0.35);
      box-shadow: 0 4px 16px rgba(184,166,125,0.12);
    }

    .rsvp-guest-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .rsvp-guest-name {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--pistachio);
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .rsvp-toggle {
      display: flex;
      border-radius: 999px;
      overflow: hidden;
      background: var(--warm-sand);
      border: 2px solid rgba(184,166,125,0.3);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .rsvp-toggle-btn {
      border: none;
      background: transparent;
      padding: 10px 24px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      color: var(--pistachio);
      transition: all 0.2s ease-out;
      white-space: nowrap;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-family: var(--font-body);
    }

    .rsvp-toggle-btn:hover { background: rgba(184,166,125,0.08); }

    .rsvp-toggle-btn.accept-selected {
      background: var(--soft-clay);
      color: var(--ivory-cream);
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }

    .rsvp-toggle-btn.decline-selected {
      background: #e57373;
      color: var(--ivory-cream);
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }

    .rsvp-guest-status {
      font-size: 0.85rem;
      color: var(--soft-clay);
      margin-top: 8px;
      padding:  8px 12px;
      background: rgba(184,166,125,0.06);
      border-radius: 8px;
      border-left: 3px solid var(--soft-clay);
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .rsvp-guest-status.accepted {
      background: rgba(76,175,80,0.1);
      border-left-color: #4CAF50;
      color: #2e7d32;
    }

    .rsvp-guest-status.declined {
      background: rgba(229,115,115,0.1);
      border-left-color: #e57373;
      color: #c62828;
    }

    .rsvp-submit-section {
      border-top: 2px solid rgba(184,166,125,0.15);
      padding-top: 24px;
      margin-top: 8px;
    }

    .rsvp-submit-btn {
      border-radius: 999px;
      border: none;
      padding: 16px 32px;
      font-size: 0.95rem;
      font-weight:  600;
      cursor: pointer;
      background: var(--soft-clay);
      color: var(--ivory-cream);
      box-shadow: 0 12px 22px rgba(184,166,125,0.3);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      transition: all 0.25s ease-out;
      width: 100%;
      display:  block;
      font-family: var(--font-body);
    }

    .rsvp-submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 18px 32px rgba(184,166,125,0.4);
      filter: brightness(1.05);
    }

    .rsvp-submit-btn:active { transform: translateY(0); }
    .rsvp-submit-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

    .rsvp-status-message {
      font-size: 0.9rem;
      color: var(--soft-clay);
      margin-top: 16px;
      min-height: 20px;
      text-align: center;
      line-height: 1.6;
      padding: 12px;
      border-radius: 8px;
      word-wrap: break-word;
      font-family: var(--font-body);
    }

    .rsvp-status-message.success {
      background: rgba(76,175,80,0.1);
      color: #2e7d32;
      border:  1px solid rgba(76,175,80,0.3);
    }

    .rsvp-status-message.error {
      background: rgba(229,115,115,0.1);
      color: #c62828;
      border: 1px solid rgba(229,115,115,0.3);
    }

    .rsvp-no-guests {
      text-align: center;
      padding: 40px 20px;
      color: var(--soft-clay);
      font-style: italic;
      font-size: 0.95rem;
      font-family: var(--font-body);
    }

    .haldi-notice {
      background: linear-gradient(145deg, #fff8e1, #fff9c4);
      border: 2px solid rgba(255,193,7,0.4);
      border-radius: 16px;
      padding: 16px 20px;
      margin-bottom:  24px;
      display: flex;
      gap: 12px;
      align-items:  flex-start;
    }

    .haldi-notice-icon {
      font-size: 1.5rem;
      flex-shrink: 0;
      line-height: 1;
    }

    .haldi-notice-text {
      font-size: 0.9rem;
      color: var(--pistachio);
      line-height: 1.6;
      font-family: var(--font-body);
    }

    .haldi-notice-text strong {
      color: #f57c00;
      font-weight: 600;
    }

    .rsvp-confirmation-message {
      background: linear-gradient(145deg, #f0f9ff, #e0f2fe);
      border: 2px solid rgba(59, 130, 246, 0.3);
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      margin-bottom: 24px;
    }

    .confirmation-icon {
      font-size: 3rem;
      color: #10b981;
      margin-bottom: 12px;
      filter: drop-shadow(0 4px 8px rgba(16, 185, 129, 0.3));
    }

    .confirmation-text {
      font-size: 1rem;
      color: var(--pistachio);
      font-weight: 500;
      line-height: 1.6;
      font-family: var(--font-body);
    }

    .rsvp-guest-card-locked {
      background: linear-gradient(145deg, #fafafa, #f5f5f5);
      border-color: rgba(0,0,0,0.1);
    }

    .rsvp-guest-header-locked {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }

    .rsvp-status-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 999px;
      font-size:  0.85rem;
      font-weight:  600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-family: var(--font-body);
    }

    .rsvp-status-badge.status-accepted {
      background: rgba(76,175,80,0.15);
      color: #2e7d32;
      border:  2px solid rgba(76,175,80,0.4);
    }

    .rsvp-status-badge.status-declined {
      background: rgba(229,115,115,0.15);
      color: #c62828;
      border:  2px solid rgba(229,115,115,0.4);
    }

    .rsvp-status-badge.status-pending {
      background: rgba(255,193,7,0.15);
      color: #f57c00;
      border: 2px solid rgba(255,193,7,0.4);
    }

    .status-icon {
      font-size: 1.1rem;
      font-weight: bold;
    }

    .rsvp-lock-note {
      margin-top: 24px;
      padding: 20px;
      background: rgba(255,193,7,0.1);
      border:  1px solid rgba(255,193,7,0.3);
      border-radius: 12px;
      text-align: center;
    }

    .rsvp-lock-note p {
      font-size: 0.9rem;
      color: var(--pistachio);
      line-height: 1.6;
      margin:  0;
      font-family: var(--font-body);
    }

    .rsvp-lock-note strong { color: var(--soft-clay); }

    @media (max-width: 968px) {
      .schedule-container { grid-template-columns: 1fr; gap: 24px; padding: 0 16px; max-width: 100%; overflow-x: hidden; }
      .event-selector { position: static; display: flex; flex-direction: column; gap: 12px; width: 100%; overflow-x: hidden; }
      .event-selector-header { text-align: center; padding-bottom: 20px; }
      .event-selector-title { font-size: 1.8rem; }
      .event-selector-subtitle { font-size: 0.9rem; }
      .event-selector-btn { padding: 18px 16px; width: 100%; box-sizing: border-box; }
      .event-selector-btn:hover { transform: none; }
      .event-selector-btn:active { transform: scale(0.98); }
      .event-detail-card { width: 100%; box-sizing: border-box; }
    }

    @media (max-width:  768px) {
      .section { padding: 48px 16px; }
      .schedule-container { padding: 0 12px; }
      .event-selector-btn { padding: 16px 14px; gap: 12px; }
      .event-selector-emoji { font-size: 1.8rem; }
      .event-selector-name { font-size: 0.95rem; }
      .event-selector-date { font-size: 0.75rem; }
      .event-header { padding:  24px 16px; }
      .event-header-title { font-size: 1.8rem; }
      .event-header-meta { font-size: 0.75rem; letter-spacing: 0.08em; }
      .event-header-description { font-size: 0.9rem; }
      .event-info-pill { font-size: 0.75rem; padding: 6px 12px; }
      .rsvp-section { padding: 24px 16px; }
      .rsvp-title { font-size: 1rem; }
      .rsvp-guest-card { padding: 16px; }
      .rsvp-guest-header { flex-direction: column; align-items: flex-start; gap: 12px; }
      .rsvp-guest-name { font-size: 1rem; }
      .rsvp-toggle { width: 100%; }
      .rsvp-toggle-btn { flex:  1; padding: 12px 16px; font-size: 0.8rem; }
      .event-actions { flex-direction: column; gap: 8px; }
      .event-action-btn { width: 100%; justify-content: center; padding: 12px 16px; }
      .rsvp-submit-btn { font-size: 0.85rem; padding: 14px 24px; letter-spacing: 0.1em; }
      .haldi-notice { padding: 14px 16px; gap: 10px; }
      .haldi-notice-icon { font-size: 1.3rem; }
      .haldi-notice-text { font-size: 0.85rem; }
      .rsvp-guest-header-locked { flex-direction: column; align-items: flex-start; }
      .rsvp-status-badge { width: 100%; justify-content: center; }
      .confirmation-icon { font-size: 2.5rem; }
      .confirmation-text { font-size: 0.9rem; }
      .logo-wordmark { font-size: 2. 4rem; }
      .header-inner { text-align: center; }
      .header-rsvp-btn { position: static; transform: none; margin:  12px auto 0; display: block; width: fit-content; font-size: 0.7rem; padding: 8px 20px; }
      .header-rsvp-btn:hover { transform: translateY(-2px); }
      .nav-toggle { display: block; }
      nav { margin-top: 6px; }
      .nav-links { position: absolute; top: 100%; left:  0; right: 0; display: none; flex-direction: column; gap: 6px; background: var(--ivory-cream); padding: 10px 20px 14px; box-shadow: 0 10px 20px rgba(0,0,0,0.08); border-radius: 0 0 18px 18px; z-index: 50; }
      .nav-links.nav-open { display: flex; }
      nav a { font-size: 0.7rem; padding: 4px 0; }
      .section { padding: 52px 16px; }
      .section-title { font-size: 2.2rem; }
      .section-subtitle { font-size:  0.9rem; }
      .story-row, .story-row.reverse { display: flex; flex-direction: column; gap: 18px; }
      .story-row.reverse > .story-photo { order: 2; }
      .story-row.reverse > :not(.story-photo) { order: 1; }
      .hero-slider { height: min(60vh, 500px); min-height: 320px; animation: hero-flow-mobile 55s linear infinite; }
      .hero-photo { flex: 0 0 100%; }
    }

    @keyframes hero-flow-mobile {
  0% { transform: translateX(0); }
  100% { transform:  translateX(-500%); }
}

    @media (max-width: 480px) {
      .code-gate-card { margin: 0 16px; }
      .schedule-container { padding: 0 8px; }
      .event-selector-header { padding-bottom: 16px; }
      .event-selector-title { font-size: 1.5rem; }
      .event-selector-btn { padding: 14px 12px; gap: 10px; }
      .event-selector-emoji { font-size:  1.6rem; }
      .event-selector-name { font-size:  0.9rem; }
      .event-selector-date { font-size: 0.7rem; }
      .event-header { padding: 20px 12px; }
      .event-header-emoji { font-size: 2.5rem; }
      .event-header-title { font-size:  1.6rem; }
      .event-header-meta { font-size:  0.7rem; }
      .event-header-description { font-size:  0.85rem; }
      .event-info-pills { flex-direction: column; gap: 8px; }
      .event-info-pill { justify-content: center; width: 100%; box-sizing: border-box; }
      .rsvp-section { padding: 20px 12px; }
      .rsvp-guest-card { padding: 14px; }
      .rsvp-toggle-btn { font-size: 0.75rem; padding: 10px 12px; }
      .rsvp-submit-btn { font-size: 0.8rem; padding: 12px 20px; }
    }

    #story { scroll-margin-top: 90px; }

    .story-grid {
      max-width: 1080px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 50px;
    }

    .story-row {
      display: grid;
      grid-template-columns: minmax(0,1fr) minmax(0,1fr);
      gap: 32px;
      align-items: center;
    }

    .story-row.reverse { grid-template-columns: minmax(0,1fr) minmax(0,1fr); }

    .story-eyebrow {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--soft-clay);
      margin-bottom: 4px;
      font-family: var(--font-body);
    }

    .story-heading {
      font-family: var(--font-heading);
      font-size: 2.2rem;
      color: var(--pistachio);
      margin-bottom: 6px;
    }

    .story-body {
      font-size: 0.95rem;
      color: var(--pistachio);
      margin-bottom: 6px;
      line-height: 1.7;
      font-family: var(--font-body);
    }

    .story-footnote {
      font-size:  0.82rem;
      color: var(--soft-clay);
      font-style: italic;
      font-family: var(--font-body);
    }

    .story-photo {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(0,0,0,0.18);
    }

    #travel { scroll-margin-top: 90px; }

    .travel-card {
      max-width: 680px;
      margin: 0 auto;
      padding: 24px;
      border-radius: 24px;
      background: var(--warm-sand);
      border: 1px solid rgba(184,166,125,0.3);
      box-shadow: 0 16px 36px rgba(0,0,0,0.08);
    }

    .travel-name {
      font-family: var(--font-heading);
      font-size: 2rem;
      color: var(--pistachio);
      margin-bottom: 4px;
    }

    .travel-detail {
      font-size: 0.9rem;
      color: var(--soft-clay);
      margin-bottom: 3px;
      font-family:  var(--font-body);
    }

    .travel-badge {
      display: inline-block;
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: var(--ivory-cream);
      color: var(--pistachio);
      margin-top: 8px;
      font-weight: 500;
      font-family: var(--font-body);
    }

    .travel-map {
      margin-top: 16px;
      border-radius:  14px;
      overflow: hidden;
      border: 1px solid var(--warm-sand);
    }

    .travel-map iframe { width: 100%; height: 200px; border: 0; }

    /* TRAVEL SECTION - UPDATED */
#travel { scroll-margin-top: 90px; }

.travel-intro {
  max-width: 800px;
  margin: 0 auto 40px;
  padding: 24px;
  background:  var(--warm-sand);
  border-radius: 16px;
  border: var(--border-light);
  text-align: center;
}

.travel-intro p {
  font-size: 0.95rem;
  color: var(--pistachio);
  line-height: 1.7;
  margin:  0;
  font-family: var(--font-body);
}

.hotel-grid {
  display: grid;
  grid-template-columns:  repeat(4, 1fr);  /* CHANGED from repeat(auto-fit, minmax(280px, 1fr)) */
  gap: 20px;  /* Reduced gap slightly */
  max-width: 1200px;  /* Increased max-width */
  margin:  0 auto 40px;
}

.hotel-card {
  background: var(--warm-sand);
  border: var(--border-light);
  border-radius: 20px;
  padding: 32px 24px;
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: var(--shadow-sm);
}

.hotel-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-md);
  border-color: var(--soft-clay);
}

.hotel-icon {
  font-size: 2.5rem;
  margin-bottom: 16px;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

.hotel-name {
  font-family: var(--font-heading);
  font-size: 1.4rem;
  color: var(--pistachio);
  margin-bottom: 8px;
  line-height: 1.3;
}

.hotel-location {
  font-size: 0.9rem;
  color: var(--soft-clay);
  margin-bottom: 20px;
  font-family: var(--font-body);
}

.hotel-link {
  display: inline-block;
  background: var(--soft-clay);
  color: var(--ivory-cream);
  padding: 10px 24px;
  border-radius: 999px;
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  transition: all 0.2s ease;
  font-family: var(--font-body);
  text-decoration: none;
}

.hotel-link:hover {
  background: var(--pistachio);
  transform: translateX(4px);
  box-shadow: var(--shadow-sm);
}

.travel-footer {
  max-width: 700px;
  margin: 0 auto;
  padding: 28px 24px;
  background: var(--ivory-cream);
  border-radius: 16px;
  border: var(--border-light);
  text-align: center;
}

.travel-footer p {
  font-size: 0.95rem;
  color: var(--pistachio);
  line-height: 1.7;
  margin: 0;
  font-family: var(--font-body);
}

/* Mobile Responsive */
/* Mobile Responsive */
@media (max-width: 1100px) {
  .hotel-grid {
    grid-template-columns: repeat(2, 1fr);  /* 2 columns on tablets */
    gap: 16px;
  }
}

@media (max-width: 768px) {
  .hotel-grid {
    grid-template-columns: 1fr;  /* 1 column on mobile */
    gap:  16px;
  }

  .hotel-card {
    padding: 24px 20px;
  }

  .hotel-name {
    font-size: 1.2rem;
  }

  .travel-intro, .travel-footer {
    padding: 20px 16px;
  }

  .travel-intro p, .travel-footer p {
    font-size: 0.9rem;
  }
}

    #faqs { 
  scroll-margin-top: 90px; 
  padding-top: 32px;  /* ADD THIS LINE - reduces top padding from 64px to 32px */
}

    .faq-list {
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .faq-item {
      background: var(--warm-sand);
      border-radius: 16px;
      border: 1px solid rgba(184,166,125,0.3);
      overflow: hidden;
    }

    .faq-question {
      padding: 14px 18px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .faq-question h4 {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--pistachio);
      font-family: var(--font-body);
    }

    .faq-icon {
      font-size: 1.1rem;
      color: var(--soft-clay);
      transition: transform 0.2s ease-out;
    }

    .faq-answer {
      max-height: 0;
      overflow: hidden;
      padding: 0 18px;
      transition: max-height 0.25s ease-out, padding-bottom 0.25s ease-out;
      font-size: 0.9rem;
      color: var(--pistachio);
      background: rgba(184,166,125,0.06);
      font-family: var(--font-body);
    }

    .faq-item.open .faq-answer { max-height: 400px; padding-bottom: 14px; }
    .faq-item.open .faq-icon { transform: rotate(90deg); }
    .faq-answer p { margin-top: 8px; line-height: 1.6; }

    footer {
      padding-top: 32px;
      padding-bottom: 40px;
      text-align: center;
      font-size: 0.85rem;
      color: var(--soft-clay);
      max-width: 1280px;
      margin: 0 auto;
      padding-left: 20px;
      padding-right:  20px;
      font-family: var(--font-body);
    }

    .footer-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
    }

    .footer-content p { margin: 0; }
    footer span { font-weight: 600; color: var(--pistachio); }

    .footer-logo {
      display: flex;
      justify-content: center;
      align-items: center;
      padding-top: 16px;
      border-top: 1px solid rgba(184,166,125,0.2);
      width: 100%;
      max-width: 600px;
      background-color: var(--ivory-cream);
    }

    .footer-logo img {
      max-width: 200px;
      height: auto;
      opacity: 0.8;
      transition: opacity 0.3s ease;
      background-color: var(--ivory-cream);
    }

    .footer-logo img:hover { opacity: 1; }

    @media (max-width: 768px) {
      .footer-logo img { max-width: 150px; }
      .footer-content { gap: 20px; }
    }

    @media (max-width: 480px) {
      .footer-logo img { max-width: 120px; }
    }
  </style>
</head>
<body>
  <div class="code-gate-backdrop" id="codeGate">
    <div class="code-gate-card">
      <div class="code-gate-title">Mansi &amp; Kunj</div>
      <div class="code-gate-tagline">June 19‚Äì21, 2026 ¬∑ Toronto, ON</div>
      <p class="code-gate-text">Please enter your email address or phone number to see your personalized wedding weekend schedule.</p>
      <input type="text" id="codeInput" class="code-input" placeholder="Enter email or phone number" autocomplete="off" />
      <button class="code-btn" id="codeBtn">Continue</button>
      <div class="code-error" id="codeError"></div>
    </div>
  </div>

  <div class="page" id="site" style="display: none;">
    <header>
      <div class="header-inner">
        <div class="logo-wordmark">Mansi &amp; Kunj</div>
        <div class="logo-tagline">June 19‚Äì21, 2026 ¬∑ Toronto, ON</div>
        <div class="header-family">Celebrating with the <span id="familyName">Guest Family</span></div>
        <a href="#schedule" class="header-rsvp-btn" id="headerRsvpBtn">RSVP Now</a>
        <button class="nav-toggle" aria-label="Toggle navigation"><span></span><span></span><span></span></button>
        <nav>
          <ul class="nav-links">
            <li><a href="#hero" class="nav-link active">Home</a></li>
            <li><a href="#schedule" class="nav-link">RSVP</a></li>
            <li><a href="#story" class="nav-link">Story</a></li>
            <li><a href="#travel" class="nav-link">Travel</a></li>
            <li><a href="#faqs" class="nav-link">FAQs</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main>
      <section id="hero" class="hero-section">
        <p class="hero-text">We're so excited to celebrate with the <strong id="familyNameInline">Guest Family</strong>. </p>
        <div class="hero-slider-shell">
          <div class="hero-slider">
            <div class="hero-photo"><img src="JVP04567_Original-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="IMG_2489-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="DSCF1066_Original-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="PXL_20230801_035250149-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="IMG_6806-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="JVP04567_Original-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="IMG_2489-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="DSCF1066_Original-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="PXL_20230801_035250149-EDIT.jpg" alt=""></div>
            <div class="hero-photo"><img src="IMG_6806-EDIT.jpg" alt=""></div>
          </div>
          <div class="hero-overlay"></div>
        </div>
      </section>

      <section id="schedule" class="section">
        <h2 class="section-title">RSVP for Wedding Weekend</h2>
        <p class="section-subtitle">Select an event below to view details and respond for each invited family member.</p>
        <div class="schedule-container">
          <div class="event-selector" id="eventSelector"></div>
          <div class="event-detail-card" id="eventDetailCard"></div>
        </div>
      </section>

      <section id="story" class="section">
        <h2 class="section-title">Our Story</h2>
        <p class="section-subtitle">A little timeline of how we went from "we could talk for hours" to celebrating this weekend with all of you.</p>
        <div class="story-grid">
          <div class="story-row">
            <div>
              <div class="story-eyebrow">2020 ¬∑ The Beginning</div>
              <div class="story-heading">Talking for Hours</div>
              <p class="story-body">We started spending more time together during the pandemic, since our families were often getting together.  It didn't take long for us to realize we could talk for hours and genuinely enjoyed each other's company.  That's really how it all began.</p>
              <p class="story-footnote">Also the era of Mansi's self-cut covid bangs, which deserve their own chapter.</p>
            </div>
            <div class="story-photo"><img src="story-beginning-forest.jpg" alt="One of our early walks together"></div>
          </div>
          <div class="story-row reverse">
            <div class="story-photo"><img src="story-rock-dundar.jpg" alt="Rock Dunder near Kingston"></div>
            <div>
              <div class="story-eyebrow">2021‚Äì2023 ¬∑ Kingston</div>
              <div class="story-heading">Weekend Drives on the 401</div>
              <p class="story-body">When Mansi moved to Kingston for medical school, we settled into a long-distance routine. It wasn't always glamorous, but we made it work, Kunj definitely put in his fair share of kilometres along the 401 when visiting on weekends.</p>
              <p class="story-footnote">Rock Dunder hikes, coffee runs, and learning that "home" could be a moving target.</p>
            </div>
          </div>
          <div class="story-row">
            <div>
              <div class="story-eyebrow">Summer 2023 ¬∑ Toronto</div>
              <div class="story-heading">Our Sakar Nariyal</div>
              <p class="story-body">In the summer of 2023, we had our sakar nariyal, our Indian engagement, in the presence of our guru, Mahant Swami Maharaj. It was calm, emotional, and very us:  a spiritual moment surrounded by people who had quietly watched our story unfold. </p>
              <p class="story-footnote">Still trying to get the taste of Gol Dhana out of our mouths.</p>
            </div>
            <div class="story-photo"><img src="story-engagement-temple.jpg" alt="At the mandir after our engagement"></div>
          </div>
          <div class="story-row reverse">
            <div class="story-photo"><img src="story-ski-proposal.jpg" alt="Ski proposal in Japan"></div>
            <div>
              <div class="story-eyebrow">February 2025 ¬∑ Japan</div>
              <div class="story-heading">The Proposal</div>
              <p class="story-body">On a ski trip in Japan, Mansi took a pretty bad fall and tore her ACL, and still insisted on getting back on the hill. Later that day, in the middle of the snow and chaos, Kunj proposed.  Not exactly the day we planned, but definitely one we'll never forget.</p>
              <p class="story-footnote">Freshly engaged, slightly injured, and ridiculously happy.</p>
            </div>
          </div>
          <div class="story-row">
            <div>
              <div class="story-eyebrow">June 2025 ¬∑ Hamilton</div>
              <div class="story-heading">Our First Home</div>
              <p class="story-body">In June 2025, we bought our first home in Hamilton, the place we'll be based while Mansi finishes residency and where we'll start this next chapter together.  It's already full of half-built furniture, too many mugs, and the feeling that we're exactly where we're meant to be.</p>
              <p class="story-footnote">Practising our "welcome in!" on the front steps for the day we get to host you all.</p>
            </div>
            <div class="story-photo"><img src="story-hamilton-home.jpg" alt="On the steps of our home in Hamilton"></div>
          </div>
        </div>
      </section>

      <!-- TRAVEL -->
<section id="travel" class="section">
  <h2 class="section-title">Travel &amp; Stay</h2>
  <p class="section-subtitle">
    For our out-of-town guests, here are some recommended hotels near our wedding venues. 
  </p>

  <div class="travel-intro">
    <p>We do not have a reserved room block, but we recommend staying at one of the hotels below for convenient access to our wedding venues. These options are all located nearby and offer a range of amenities to suit different preferences.</p>
  </div>

  <div class="hotel-grid">
    <div class="hotel-card">
      <div class="hotel-icon">üè®</div>
      <h3 class="hotel-name">Holiday Inn & Suites</h3>
      <p class="hotel-location">Mississauga West ‚Äì Meadowvale</p>
      <a href="https://www.guestreservations.com/holiday-inn-suites-mississauga-west-meadowvale-an-ihg-hotel/booking" target="_blank" class="hotel-link">View Hotel ‚Üí</a>
    </div>

    <div class="hotel-card">
      <div class="hotel-icon">üè®</div>
      <h3 class="hotel-name">Courtyard by Marriott</h3>
      <p class="hotel-location">Toronto Mississauga/Meadowvale</p>
      <a href="https://www.marriott.com/search/findHotels.mi?pageType=advanced&searchType=InCity&destinationAddress.latitude=43.601411&destinationAddress.longitude=-79.751864&destinationAddress. destination=Courtyard+Toronto+Mississauga+Meadowvale" target="_blank" class="hotel-link">View Hotel ‚Üí</a>
    </div>

    <div class="hotel-card">
      <div class="hotel-icon">üè®</div>
      <h3 class="hotel-name">Hilton Hotels</h3>
      <p class="hotel-location">Mississauga (Meadowvale Area)</p>
      <a href="https://www.hilton.com/en/locations/canada/ontario/mississauga/hilton-hotels/" target="_blank" class="hotel-link">View Hotel ‚Üí</a>
    </div>

    <div class="hotel-card">
      <div class="hotel-icon">üè®</div>
      <h3 class="hotel-name">Marriott Hotels</h3>
      <p class="hotel-location">Mississauga Area</p>
      <a href="https://www.marriott.com/reservation/rateListMenu.mi" target="_blank" class="hotel-link">View Hotel ‚Üí</a>
    </div>
  </div>

  <div class="travel-footer">
    <p>If you prefer, there are also several <strong>Airbnb</strong> and other hotel options available nearby.</p>
    <p style="margin-top:  16px; font-weight: 600;">Contact us at <a href="mailto: mansikunj26@gmail.com" style="color: var(--pistachio); text-decoration: underline;">mansikunj26@gmail.com</a></p>
  </div>
</section>

      <section id="faqs" class="section">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <p class="section-subtitle">A few quick answers. If you don't see your question here, please reach out, we're happy to help. </p>
        <div class="faq-list">
          <div class="faq-item">
            <div class="faq-question"><h4>1. How do I RSVP?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>Enter your email address, phone number, or family code on the landing page.  Once you're in, select an event and respond for every invited family member, then click "Submit RSVP" for that event.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>2. Can I bring children?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>Yes, we're delighted to include children, and we kindly ask that only the little ones listed on your invitation join us. </p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>3. What if I have dietary restrictions?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>All of our wedding meals will be fully vegetarian and prepared without onion, garlic, or eggs. If you have any other dietary needs, we're more than happy to accommodate them as best we can, just let us know! </p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>4. What time should I arrive?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>Arrival times may vary slightly by event.  Please refer to the details in your invitation and the schedule above for suggested arrival windows so we can begin each celebration on time.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>5. Is there a gifts registry?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>We don't have a registry, and we kindly ask that no boxed gifts be brought.  Your presence truly means the most to us. </p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>6. Is there parking?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>Absolutely, parking is free at every event. If you're joining us at the Dave or Patel homes, there's ample street parking nearby.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h4>7. Is there a dress code?</h4><span class="faq-icon">&#8250;</span></div>
            <div class="faq-answer"><p>Details on expected attire and colours are included within the event invites and summarized in the schedule section above.</p></div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="footer-content">
        <p>With love, <span>Mansi &amp; Kunj</span> ¬∑ June 19‚Äì21, 2026</p>
        <div class="footer-logo"><img src="mk-logo.png" alt="M&K Logo"></div>
      </div>
    </footer>
  </div>

  <script>
    // =============================
    // CONFIGURATION
    // =============================

    // Your Google Apps Script Web App URL
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw0zuR0b1KXMzGB2adOLB1BKg_Aih0w2lOSSJqReOwFxmGDeRBmKZquZawhFsHsoCHu/exec";

    const EVENTS = [
      {
        key: "Sangeet",
        name: "Sangeet",
        dateShort: "Friday, June 19",
        dateFull: "Friday, June 19, 2026",
        time: "Evening ¬∑ 6:00 PM",
        tag: "Music & dancing",
        location: "69 Gooderham Drive, Georgetown, ON",
        locationShort: "69 Gooderham Drive, Georgetown",
        mapsUrl: "https://www.google.com/maps/search/?api=1&query=69+Gooderham+Drive+Georgetown+ON",
        startDateTime: "2026-06-19T18:00:00",
        endDateTime: "2026-06-19T23:00:00",
        blurb: "Sangeet under the stars!  Embrace the spirit of celebration in bright, joyful Indian wear, we can't wait to dance the night away with you.",
        dress: "Bright, colourful Indian wear",
        visibleTo: "all"
      },
      {
        key: "Grah Shanti & Haldi (Bride)",
        name: "Grah Shanti & Haldi",
        dateShort: "Saturday, June 20",
        dateFull: "Saturday, June 20, 2026",
        time: "Morning ¬∑ 10:00 AM",
        tag: "Family rituals at home",
        location: "69 Gooderham Drive, Georgetown, ON",
        locationShort: "69 Gooderham Drive, Georgetown",
        mapsUrl: "https://www.google.com/maps/search/?api=1&query=69+Gooderham+Drive+Georgetown+ON",
        startDateTime: "2026-06-20T10:00:00",
        endDateTime: "2026-06-20T14:00:00",
        blurb: "A joyful morning of love and laughter at Mansi's family home!  Expect turmeric, giggles, and lots of photos as we celebrate blessings with the bride's family.",
        dress: "Shades of yellow, orange, or red to match the sunny, festive spirit",
        visibleTo: "bride"
      },
      {
        key: "Grah Shanti & Haldi (Groom)",
        name: "Grah Shanti & Haldi",
        dateShort:  "Saturday, June 20",
        dateFull: "Saturday, June 20, 2026",
        time: "Morning ¬∑ 10:00 AM",
        tag:  "Family rituals at home",
        location: "42 Lisson Crescent, Brampton, ON",
        locationShort: "42 Lisson Crescent, Brampton",
        mapsUrl: "https://www.google.com/maps/search/?api=1&query=42+Lisson+Crescent+Brampton+ON",
        startDateTime: "2026-06-20T10:00:00",
        endDateTime: "2026-06-20T14:00:00",
        blurb: "A joyful morning of love and laughter at Kunj's family home! Expect turmeric, giggles, and lots of photos as we celebrate blessings with the groom's family.",
        dress: "Shades of yellow, orange, or red to match the sunny, festive spirit",
        visibleTo: "groom"
      },
      {
        key: "Wedding Ceremony",
        name: "Wedding Ceremony",
        dateShort: "Sunday, June 21",
        dateFull: "Sunday, June 21, 2026",
        time: "Daytime ¬∑ 11:00 AM",
        tag: "Mandap & vows",
        location: "Lionhead Golf Club, Brampton, ON",
        locationShort: "Lionhead Golf Club, Brampton",
        mapsUrl: "https://www.google.com/maps/search/?api=1&query=Lionhead+Golf+Club+Brampton+ON",
        startDateTime:  "2026-06-21T11:00:00",
        endDateTime: "2026-06-21T15:00:00",
        blurb: "A celebration of love and new beginnings.  We invite you to join us in your finest attire, Indian traditional wear is warmly encouraged.",
        dress: "Indian traditional wear for the ceremony",
        visibleTo:  "all"
      },
      {
        key: "Reception",
        name: "Reception",
        dateShort: "Sunday, June 21",
        dateFull: "Sunday, June 21, 2026",
        time: "Evening ¬∑ 6:00 PM",
        tag: "Cocktails & dinner",
        location: "Terrace on the Green, Brampton, ON",
        locationShort: "Terrace on the Green, Brampton",
        mapsUrl: "https://www.google.com/maps/search/?api=1&query=Terrace+on+the+Green+Brampton+ON",
        startDateTime: "2026-06-21T18:00:00",
        endDateTime: "2026-06-21T23:00:00",
        blurb: "An elegant evening beneath the tented sky.  Cocktail hour begins at 6:00 PM; doors open at 7:00 PM.",
        dress: "Formal attire with practical footwear for the outdoors",
        visibleTo:  "all"
      }
    ];

    const EVENT_EMOJIS = {
      "Sangeet": "üíÉ",
      "Grah Shanti & Haldi (Bride)": "üåº",
      "Grah Shanti & Haldi (Groom)": "üåº",
      "Wedding Ceremony":  "üíç",
      "Reception": "ü™©"
    };

    let currentFamily = null;
    let responses = {};
    let activeEventKey = "Sangeet";

    const scheduleContainer = document.querySelector(".schedule-container");
    const eventDetailCardEl = document.getElementById("eventDetailCard");

    // =============================
    // CALENDAR HELPERS
    // =============================

    function generateGoogleCalendarUrl(event) {
      const title = encodeURIComponent(event.name + " - Mansi & Kunj's Wedding");
      const details = encodeURIComponent(event.blurb + "\n\nDress code: " + event.dress);
      const location = encodeURIComponent(event.location);
      
      const startDate = event.startDateTime.replace(/[-:]/g, '');
      const endDate = event.endDateTime.replace(/[-:]/g, '');
      
      return `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${startDate}/${endDate}&details=${details}&location=${location}&sf=true&output=xml`;
    }

    function generateICSFile(event) {
      const startDate = event.startDateTime.replace(/[-:]/g, '');
      const endDate = event. endDateTime.replace(/[-:]/g, '');
      const now = new Date().toISOString().replace(/[-:]/g, '').split('.')[0];
      
      const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Mansi & Kunj Wedding//EN
BEGIN:VEVENT
UID:${event.key}-${now}@mansikunjwedding.com
DTSTAMP:${now}Z
DTSTART:${startDate}
DTEND:${endDate}
SUMMARY:${event.name} - Mansi & Kunj's Wedding
DESCRIPTION:${event.blurb}\\n\\nDress code: ${event.dress}
LOCATION: ${event.location}
STATUS:CONFIRMED
END:VEVENT
END:VCALENDAR`;

      return icsContent;
    }

    function downloadICS(event) {
      const icsContent = generateICSFile(event);
      const blob = new Blob([icsContent], { type:  'text/calendar;charset=utf-8' });
      const link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.download = `${event.key. replace(/\s+/g, '_')}.ics`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // =============================
    // CODE GATE LOGIC
    // =============================

    const codeGate = document.getElementById("codeGate");
    const codeInput = document.getElementById("codeInput");
    const codeBtn = document.getElementById("codeBtn");
    const codeError = document.getElementById("codeError");
    const site = document.getElementById("site");

    function normalizeIdentifier(input) {
      const cleaned = input.trim().toLowerCase();
      if (/^\+? [\d\s\-\(\)]+$/.test(cleaned)) {
        return cleaned. replace(/\D/g, '');
      }
      return cleaned;
    }

    function initResponsesForFamily(familyData) {
      responses = {};
      
      // Initialize responses object with existing RSVP data from the sheet
      familyData.guests.forEach(guest => {
        responses[guest.name] = {};
        guest.events.forEach(evKey => {
          // Check if there's existing RSVP data for this guest and event
          const existingRsvp = familyData.rsvps?. find(r => 
            r.guest === guest. name && r.event === evKey
          );
          
          if (existingRsvp && existingRsvp.response) {
            // Map "yes"/"no" from sheet to our format
            responses[guest.name][evKey] = existingRsvp.response. toLowerCase();
          } else {
            // Default to null (pending)
            responses[guest.name][evKey] = null;
          }
        });
      });
    }

    async function unlockSite(identifier) {
      codeError.textContent = "";
      codeBtn.textContent = "Loading...";
      codeBtn.disabled = true;

      try {
        // Call Google Apps Script to lookup family data
        const response = await fetch(`${GOOGLE_SCRIPT_URL}?identifier=${encodeURIComponent(identifier)}`);
        
        // Check if response is OK
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();

        if (data.status === 'error') {
          // Check if it's a "hold" status
          if (data. message === 'hold') {
            codeError. textContent = "Your invitation is not yet ready. Please check back later or contact us at mansikunj26@gmail.com. ";
          } else {
            codeError.textContent = "We couldn't find that email or phone number. Please check your invitation. ";
          }
          codeBtn.textContent = "Continue";
          codeBtn.disabled = false;
          return;
        }

        // Successfully found family
        currentFamily = data;

        document.getElementById("familyName").textContent = data.familyName;
        document.getElementById("familyNameInline").textContent = data.familyName;
        document.getElementById("headerRsvpBtn").style.display = "inline-block";

        initResponsesForFamily(data);

        codeGate.style.display = "none";
        site.style.display = "block";

        renderEventSelector();
        renderEventDetail(activeEventKey);

      } catch (error) {
        console.error('Lookup error:', error);
        codeError.textContent = "There was an error connecting to the server. Please try again. ";
        codeBtn.textContent = "Continue";
        codeBtn.disabled = false;
      }
    }

    codeBtn.addEventListener("click", () => {
      const inputValue = codeInput.value. trim();
      if (! inputValue) {
        codeError.textContent = "Please enter your email or phone number.";
        return;
      }
      unlockSite(inputValue);
    });

    codeInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const inputValue = codeInput.value.trim();
        if (!inputValue) {
          codeError.textContent = "Please enter your email or phone number.";
          return;
        }
        unlockSite(inputValue);
      }
    });

    // =============================
    // RENDER EVENT SELECTOR
    // =============================

    function renderEventSelector() {
      const selectorEl = document.getElementById("eventSelector");
      selectorEl.innerHTML = "";

      // Add header
      const header = document.createElement("div");
      header.className = "event-selector-header";
      
      const title = document.createElement("div");
      title.className = "event-selector-title";
      title.textContent = "Events";
      
      const subtitle = document.createElement("div");
      subtitle.className = "event-selector-subtitle";
      subtitle. textContent = "Select an event to RSVP";
      
      header.appendChild(title);
      header.appendChild(subtitle);
      selectorEl.appendChild(header);

      const visibleEvents = EVENTS.filter(ev => {
        if (! currentFamily) return false;
        return currentFamily.guests.some(g => g.events.includes(ev.key));
      });

      visibleEvents. forEach(ev => {
        const item = document.createElement("div");
        item.className = "event-selector-item";

        const btn = document.createElement("button");
        btn.className = "event-selector-btn";
        btn. dataset.eventKey = ev.key;
        
        if (ev.key === activeEventKey) {
          btn.classList.add("active");
        }

        const emoji = document.createElement("span");
        emoji.className = "event-selector-emoji";
        emoji.textContent = EVENT_EMOJIS[ev.key] || "üíó";

        const content = document.createElement("div");
        content.className = "event-selector-content";

        const name = document.createElement("div");
        name.className = "event-selector-name";
        name. textContent = ev.name;

        const date = document.createElement("div");
        date.className = "event-selector-date";
        date. textContent = `${ev.dateShort} ‚Ä¢ ${ev.time}`;

        content.appendChild(name);
        content.appendChild(date);

        btn.appendChild(emoji);
        btn.appendChild(content);

        btn.addEventListener("click", () => {
          document.querySelectorAll(".event-selector-btn").forEach(b => {
            b.classList.remove("active");
          });
          btn.classList.add("active");
          activeEventKey = ev.key;
          renderEventDetail(ev.key);
          
          // Scroll to top of event detail card on mobile
          if (window.innerWidth <= 968) {
            eventDetailCardEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }
        });

        item.appendChild(btn);
        selectorEl.appendChild(item);
      });

      if (! visibleEvents.find(e => e.key === activeEventKey) && visibleEvents.length > 0) {
        activeEventKey = visibleEvents[0].key;
        renderEventDetail(activeEventKey);
        document
          .querySelectorAll(".event-selector-btn")
          .forEach(b => b.classList.toggle("active", b.dataset.eventKey === activeEventKey));
      }
    }

    // =============================
    // RENDER EVENT DETAIL & RSVP
    // =============================

    function renderEventDetail(eventKey) {
      const ev = EVENTS.find(e => e.key === eventKey);
      if (!ev || !eventDetailCardEl) return;

      const cardEl = eventDetailCardEl;
      cardEl.innerHTML = "";

      // Event Header
      const header = document.createElement("div");
      header.className = "event-header";

      const emoji = document.createElement("div");
      emoji.className = "event-header-emoji";
      emoji.textContent = EVENT_EMOJIS[ev.key] || "üíó";

      const title = document.createElement("div");
      title.className = "event-header-title";
      title. textContent = ev.name;

      const meta = document.createElement("div");
      meta.className = "event-header-meta";
      meta. textContent = `${ev.dateFull} ¬∑ ${ev.time}`;

      const desc = document.createElement("div");
      desc.className = "event-header-description";
      desc.textContent = ev.blurb;

      const pills = document.createElement("div");
      pills.className = "event-info-pills";

      const locationPill = document.createElement("div");
      locationPill.className = "event-info-pill clickable";
      locationPill. innerHTML = `üìç ${ev.locationShort}`;
      locationPill.title = "Click to view in Google Maps";
      locationPill.style.cursor = "pointer";
      locationPill.addEventListener("click", () => {
        window. open(ev.mapsUrl, '_blank');
      });

      const dressPill = document.createElement("div");
      dressPill.className = "event-info-pill";
      dressPill.innerHTML = `üëó ${ev.dress}`;

      pills.appendChild(locationPill);
      pills.appendChild(dressPill);

      // Action buttons
      const actions = document.createElement("div");
      actions.className = "event-actions";

      const calendarBtn = document.createElement("button");
      calendarBtn.className = "event-action-btn";
      calendarBtn.innerHTML = `üìÖ Add to Calendar`;
      calendarBtn.addEventListener("click", () => {
        window.open(generateGoogleCalendarUrl(ev), '_blank');
        setTimeout(() => {
          downloadICS(ev);
        }, 500);
      });

      const mapBtn = document.createElement("button");
      mapBtn.className = "event-action-btn";
      mapBtn.innerHTML = `üó∫Ô∏è View in Maps`;
      mapBtn.addEventListener("click", () => {
        window.open(ev.mapsUrl, '_blank');
      });

      actions.appendChild(calendarBtn);
      actions.appendChild(mapBtn);

      header.appendChild(emoji);
      header.appendChild(title);
      header.appendChild(meta);
      header.appendChild(desc);
      header.appendChild(pills);
      header.appendChild(actions);

      cardEl.appendChild(header);

      // RSVP Section
      const rsvpSection = document.createElement("div");
      rsvpSection.className = "rsvp-section";

      const invitedGuests = currentFamily.guests.filter(guest => 
        guest.events.includes(ev.key)
      );

      if (invitedGuests.length === 0) {
        const noGuests = document.createElement("div");
        noGuests.className = "rsvp-no-guests";
        noGuests.textContent = "No family members are invited to this event.";
        rsvpSection.appendChild(noGuests);
      } else if (currentFamily.isLocked) {
        // LOCKED STATE - Show confirmation
        const rsvpTitle = document.createElement("div");
        rsvpTitle. className = "rsvp-title";
        rsvpTitle. textContent = "Your Responses";

        const confirmationMessage = document.createElement("div");
        confirmationMessage.className = "rsvp-confirmation-message";
        confirmationMessage. innerHTML = `
          <div class="confirmation-icon">‚úì</div>
          <p class="confirmation-text">Thank you for your responses!  Please see your confirmation below.</p>
        `;

        const guestList = document.createElement("div");
        guestList.className = "rsvp-guest-list";

        invitedGuests.forEach(guest => {
          const card = document.createElement("div");
          card.className = "rsvp-guest-card rsvp-guest-card-locked";

          const guestHeader = document.createElement("div");
          guestHeader.className = "rsvp-guest-header-locked";

          const guestName = document. createElement("div");
          guestName.className = "rsvp-guest-name";
          guestName.textContent = guest.name;

          const currentResp = responses[guest.name]?.[ev.key] || null;
          
          const statusBadge = document.createElement("div");
          statusBadge. className = `rsvp-status-badge ${currentResp === 'yes' ? 'status-accepted' : currentResp === 'no' ?  'status-declined' : 'status-pending'}`;
          
          if (currentResp === "yes") {
            statusBadge.innerHTML = `<span class="status-icon">‚úì</span> Attending`;
          } else if (currentResp === "no") {
            statusBadge.innerHTML = `<span class="status-icon">‚úó</span> Not Attending`;
          } else {
            statusBadge.innerHTML = `<span class="status-icon">‚è±</span> No Response`;
          }

          guestHeader.appendChild(guestName);
          guestHeader.appendChild(statusBadge);
          card.appendChild(guestHeader);
          guestList.appendChild(card);
        });

        const lockNote = document.createElement("div");
        lockNote.className = "rsvp-lock-note";
        lockNote.innerHTML = `
          <p>If you would like to make any changes, please email <strong>mansikunj26@gmail.com</strong>.</p>
        `;

        rsvpSection.appendChild(rsvpTitle);
        rsvpSection.appendChild(confirmationMessage);
        rsvpSection.appendChild(guestList);
        rsvpSection.appendChild(lockNote);
        
      } else {
        // UNLOCKED STATE - Show normal RSVP interface
        const rsvpTitle = document.createElement("div");
        rsvpTitle.className = "rsvp-title";
        rsvpTitle.textContent = "Who's Coming?";

        rsvpSection.appendChild(rsvpTitle);

        // Check if this is a Grah Shanti event and if any guests are invited to both
        const haldiKeys = ["Grah Shanti & Haldi (Bride)", "Grah Shanti & Haldi (Groom)"];
        if (haldiKeys.includes(ev.key)) {
          const guestsInvitedToBoth = invitedGuests.filter(guest => {
            const otherKey = haldiKeys.find(k => k !== ev.key);
            return guest.events.includes(ev.key) && guest.events.includes(otherKey);
          });
          
          if (guestsInvitedToBoth.length > 0) {
            const haldiNotice = document.createElement("div");
            haldiNotice.className = "haldi-notice";
            haldiNotice.innerHTML = `
              <div class="haldi-notice-icon">‚ÑπÔ∏è</div>
              <div class="haldi-notice-text">
                <strong>Note:</strong> You're invited to both Grah Shanti celebrations! You're welcome to attend either or both, 
                but for catering purposes, please RSVP to the one where you'll be having your meal.  Accepting one will 
                automatically decline the other for meal planning.  
              </div>
            `;
            rsvpSection.appendChild(haldiNotice);
          }
        }

        const guestList = document.createElement("div");
        guestList.className = "rsvp-guest-list";

        invitedGuests.forEach(guest => {
          const card = document.createElement("div");
          card.className = "rsvp-guest-card";

          const guestHeader = document.createElement("div");
          guestHeader.className = "rsvp-guest-header";

          const guestName = document. createElement("div");
          guestName.className = "rsvp-guest-name";
          guestName.textContent = guest. name;

          const toggle = document.createElement("div");
          toggle.className = "rsvp-toggle";

          const currentResp = responses[guest.name]?.[ev. key] || null;

          const acceptBtn = document.createElement("button");
          acceptBtn.className = "rsvp-toggle-btn";
          acceptBtn. textContent = "Accept";
          if (currentResp === "yes") acceptBtn.classList.add("accept-selected");

          const declineBtn = document. createElement("button");
          declineBtn.className = "rsvp-toggle-btn";
          declineBtn.textContent = "Decline";
          if (currentResp === "no") declineBtn.classList.add("decline-selected");

          acceptBtn.addEventListener("click", () => {
            responses[guest.name][ev.key] = "yes";

            const haldiKeys = ["Grah Shanti & Haldi (Bride)", "Grah Shanti & Haldi (Groom)"];
            if (haldiKeys.includes(ev.key)) {
              const otherKey = haldiKeys.find(k => k !== ev.key);
              // Check if this guest is invited to the other Grah Shanti
              if (responses[guest.name] && responses[guest.name][otherKey] !== undefined) {
                // They're invited to both, so automatically decline the other one
                responses[guest.name][otherKey] = "no";
              }
            }

            renderEventDetail(ev.key);
          });

          declineBtn.addEventListener("click", () => {
            responses[guest.name][ev. key] = "no";
            renderEventDetail(ev.key);
          });

          toggle.appendChild(acceptBtn);
          toggle.appendChild(declineBtn);

          guestHeader.appendChild(guestName);
          guestHeader.appendChild(toggle);

          card.appendChild(guestHeader);

          if (currentResp) {
            const status = document.createElement("div");
            status.className = `rsvp-guest-status ${currentResp === 'yes' ? 'accepted' : 'declined'}`;
            if (currentResp === "yes") {
              status.textContent = `‚úì ${guest.name} is attending`;
            } else {
              status.textContent = `‚úó ${guest.name} is not attending`;
            }
            card.appendChild(status);
          }

          guestList. appendChild(card);
        });

        rsvpSection.appendChild(guestList);

        // Submit section
        const submitSection = document. createElement("div");
        submitSection.className = "rsvp-submit-section";

        const submitBtn = document.createElement("button");
        submitBtn.className = "rsvp-submit-btn";
        submitBtn.textContent = `Submit RSVP for ${ev. name}`;

        const statusMsg = document.createElement("div");
        statusMsg.className = "rsvp-status-message";

        submitBtn.addEventListener("click", () => {
          submitRsvpForEvent(ev.key, statusMsg, submitBtn);
        });

        submitSection.appendChild(submitBtn);
        submitSection.appendChild(statusMsg);

        rsvpSection.appendChild(submitSection);
      }

      cardEl.appendChild(rsvpSection);
    }

    // =============================
    // SUBMIT RSVP FOR SINGLE EVENT
    // =============================

    function submitRsvpForEvent(eventKey, statusEl, buttonEl) {
      if (!currentFamily) return;
      
      // Check if locked
      if (currentFamily.isLocked) {
        statusEl.textContent = "The RSVP deadline has passed.  Please contact us at mansikunj26@gmail. com to make changes.";
        statusEl.className = "rsvp-status-message error";
        return;
      }

      statusEl.textContent = "Saving your responses...";
      statusEl. className = "rsvp-status-message";
      buttonEl.disabled = true;

      const event = EVENTS.find(e => e.key === eventKey);
      const invitedGuests = currentFamily. guests.filter(g => g.events.includes(eventKey));

      const flatResponses = [];
      invitedGuests.forEach(guest => {
        const resp = responses[guest.name]?.[eventKey] ?? null;
        flatResponses.push({
          guest: guest.name,
          event: eventKey,
          response: resp
        });
      });

      const payload = {
        action: 'saveRsvp',
        familyId: currentFamily.familyId,
        familyName: currentFamily.familyName,
        side: currentFamily.side,
        responses: flatResponses
      };

      // Create a hidden form to submit the data
      const form = document.createElement('form');
      form.method = 'POST';
      form.action = GOOGLE_SCRIPT_URL;
      form.target = 'hidden_iframe';
      form.style.display = 'none';

      const input = document.createElement('input');
      input.type = 'hidden';
      input.name = 'data';
      input.value = JSON.stringify(payload);
      form.appendChild(input);

      // Create hidden iframe if it doesn't exist
      let iframe = document.getElementById('hidden_iframe');
      if (!iframe) {
        iframe = document.createElement('iframe');
        iframe.name = 'hidden_iframe';
        iframe.id = 'hidden_iframe';
        iframe.style.display = 'none';
        document.body.appendChild(iframe);
      }

      // Submit the form
      document.body. appendChild(form);
      form.submit();
      document.body. removeChild(form);

      // Show success message after delay
      setTimeout(() => {
        statusEl.textContent = `‚úì Thank you!  Your responses for ${event.name} have been saved.`;
        statusEl.className = "rsvp-status-message success";
        buttonEl.disabled = false;
      }, 1500);
    }

    // =============================
    // FAQ ACCORDION
    // =============================

    document.querySelectorAll(".faq-item").forEach(item => {
      const q = item.querySelector(".faq-question");
      q.addEventListener("click", () => {
        item.classList.toggle("open");
      });
    });

    // =============================
    // NAV ACTIVE ON SCROLL
    // =============================

    const navLinks = document.querySelectorAll(". nav-link");
    const sectionIds = ["hero","schedule","story","travel","faqs"];
    const sections = sectionIds.map(id => document.getElementById(id));

    function updateActiveNav() {
      const scrollY = window.scrollY + 130;
      let currentId = "hero";
      sections.forEach((sec) => {
        if (sec && scrollY >= sec.offsetTop) currentId = sec.id;
      });
      navLinks.forEach(link => {
        const target = link.getAttribute("href").slice(1);
        link.classList.toggle("active", target === currentId);
      });
    }

    window.addEventListener("scroll", updateActiveNav);

    // =============================
    // MOBILE NAV TOGGLE
    // =============================

    const navToggle = document.querySelector(".nav-toggle");
    const navLinksContainer = document.querySelector(".nav-links");

    if (navToggle && navLinksContainer) {
      navToggle.addEventListener("click", () => {
        navLinksContainer.classList.toggle("nav-open");
        navToggle.classList.toggle("is-open");
      });

      navLinks.forEach(link => {
        link.addEventListener("click", () => {
          if (window.innerWidth <= 768) {
            navLinksContainer.classList.remove("nav-open");
            navToggle.classList.remove("is-open");
          }
        });
      });
    }

    // =============================
    // HANDLE RESIZE
    // =============================

    window.addEventListener("resize", () => {
      if (window.innerWidth > 768 && navLinksContainer && navToggle) {
        navLinksContainer.classList.remove("nav-open");
        navToggle.classList.remove("is-open");
      }
    });
</script>
</body>
</html>

